#!/bin/bash

COMMIT_MSG_FILE=$1
COMMIT_MSG=$(cat "$COMMIT_MSG_FILE")

echo "ğŸ” Checking commit message: $COMMIT_MSG"

if [[ ! "$COMMIT_MSG" =~ ([A-Z]+-[0-9]+) ]]; then
  echo "âŒ Commit message must contain Jira key (e.g. JRA-123)"
  echo "ğŸ‘‰ Example: JRA-123 Add login validation"
  exit 1
fi

echo "âœ… Commit message valid"
